buildscript {
    dependencies {
        classpath 'com.ampznetwork.modsuite:buildscripts'
    }
}

plugins { id 'com.ampznetwork.modsuite.buildscripts' }

ext {
    debug = "true" == System.getenv("DEBUG")
}

apply from: 'gradle/scripts/versions.gradle'

// elevate LibMod parts
subprojects.findAll { plugins.hasPlugin('java') }.forEach {
    dependencies {
        for (String sub : new String[]{'api', 'core', 'spigot', 'forge', 'fabric'}) {
            print ":$parent.name:$project.name -> $sub: "
            if (parent.name != 'LibMod' && project.name == sub) {
                api project(':LibMod:' + sub)
                println 'yes'
            } else println 'no'
        }
        if (parent.name != 'LibMod' && project.name == 'api')
            compileOnly project(':LibMod:core')
    }
}
